spring:
  main:
    lazy-initialization: true
  quartz:
    wait-for-jobs-to-complete-on-shutdown: true
  autoconfigure:
    exclude: org.springframework.boot.autoconfigure.jdbc.DataSourceAutoConfiguration
  application:
    name: dqo
  mvc:
    async:
      request-timeout: 60000
  shell:
    interactive:
      enabled: false

server:
  port: ${port:8888}
  shutdown: graceful
  error:
    include-stacktrace: always

logging:
  level:
    root: WARN
    org:
      jline: ERROR
      springframework: ERROR
      apache:
        hadoop:
          util: ERROR
    com:
      google: OFF
    ai:
      dqo: WARN

picocli:
  ansi: true

https:
  # SSLv3,TLSv1.1,TLSv1.2
  protocols: TLSv1.2

dfs:
  permissions:
    enabled: false

# when adding new parameters, remember to add them to DqoRootCliCommand, so they are listed by running "dqo --help" and they are documented

dqo:
  python:
    interpreter: python3,python3.exe,python,python.exe
    evaluate-templates-module: lib/evaluate_templates.py
    evaluate-rules-module: lib/evaluate_rules.py
    python-script-timeout-seconds: 120
  user:
    home: .
    has-local-home: true
  logging:
    enable-user-home-logging: true
    max-history: 7
    pattern: "%-12date{YYYY-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} -%kvp- %msg%xException%n"
    total-size-cap: 10mb
  storage:
    gcp:
      upload-buffer-size: 5000000
  yaml-schema-server: https://cloud.dqo.ai/dqo-yaml-schema/
  cloud:
    ui-base-url: https://cloud.dqo.ai
    rest-api-base-url: https://api.dqo.ai
    #ui-base-url: http://localhost:3000
    #rest-api-base-url: http://localhost:8080
    api-key-request-url: ${dqo.cloud.ui-base-url}/requestapikey/
  secrets:
    enable-gcp-secret-manager: true
    gcp-project-id: ${GOOGLE_CLOUD_PROJECT}
  core:
    print-stack-trace: true
    lock-wait-timeout-seconds: 900
  profiler:
    truncated-strings-length: 50
    viewed-profile-age-months: 3
  queue:
    threads: 10
    keep-finished-jobs-history-seconds: 3600
    keep-jobs-changes-history-seconds: 1200
    get-job-changes-since-wait-seconds: 30
  scheduler:
    #start: true
    synchronization-mode: silent
    check-run-mode: silent
    scan-metadata-cron-schedule: "*/10 * * * *"   # every 10 minutes
    enable-cloud-sync: true
